{% extends "base.html" %} {% block content %}
<link
  href="{{ url_for('static', filename='css/table.css') }}"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>

<h1 class="title">Hello, {{ current_user.username }}</h1>
<div style="overflow-x: auto;">
  <table class="table">
    <tr>
      <th class="head_cell">File name</th>
      <th class="head_cell">Upload date</th>
      <th class="head_cell">Size (in bytes)</th>
      <th class="head_cell">Hash</th>
      <th class="head_cell">Download</th>
      {% if current_user.can_delete %}
      <th class="head_cell">Delete</th>
      {% endif %}
    </tr>
    {% for file in files %}
    <tr>
      <td class="cell">{{ file.file_name }}</td>
      <td class="cell">{{ file.upload_date.strftime('%d-%m-%Y') }}</td>
      <td class="cell">{{ file.size }}</td>
      <td class="cell">{{ file.hash_sha }}</td>
      <td class="cell">
        <a href="{{ url_for('download_file', filename=file.file_name) }}"
          ><button>Download</button></a
        >
      </td>
      {% if current_user.can_delete %}
      <td class="cell">
        <a href="{{ url_for('delete_file', filename=file.file_name) }}"
          ><button>Delete</button></a
        >
      </td>
      {% endif %}
    </tr>
    {% endfor %}
  </table>
</div>
{% if prev_url %}
<div>
  <span class="icons">
    <a class="table_icon" href="{{ prev_url }}">
      <span class="material-icons">arrow_right</span></a
    >
  </span>
</div>
{% endif %} {% if next_url %}
<div>
  <span class="icons">
    <a class="table_icon" href="{{ next_url }}">
      <span class="material-icons">arrow_left</span></a
    >
  </span>
</div>
{% endif %} {% endblock %}
